<template name="login">
  {{> header}}
  <main role="main" class="ui-content">
    {{> ldapLogin2}}
    {{> currentUser}}
  </main>
  {{> footer}}
</template>

<template name="currentUser">
  {{#if currentUser}}
    First Name: {{currentUser.givenName}} <br>
    Last Name: {{currentUser.sn}} <br>
    Display Name: {{currentUser.displayName}}<br>
    Email: {{currentUser.mail}}<br>
    Member Of: <br> {{#each addKeys currentUser.memberOf}}
    &nbsp;&nbsp; {{key}}: {{value}} <br>
  {{/each}}
    Not member Of: <br> {{#each addKeys currentUser.notMemberOf}}
    &nbsp;&nbsp; {{key}}: {{value}} <br>
  {{/each}}
  {{/if}}
</template>

<template name="ldapLogin2">
  <form class="form-horizontal ui-grid-b my-breakpoint">
    <div class="ui-block-a"></div>
    <div class="ui-block-b">
        <div class="form-group">
          <label for="ldap" class="col-xs-4 control-label">Username:</label>
          <div class="col-xs-6">
            <input type="text" name="ldap">
          </div>
        </div>
        <div class="form-group">
          <label for="password" class="col-xs-4 control-label">Password:</label>
          <div class="col-xs-6">
            <input type="password" name="password">
          </div>
        </div>
        <button type="button" class="btn btn-login" name="login2">Login</button>
      {{#if loggingIn }}
        <span class="loggingIn">Logging in...</span>
      {{else}}
        {{#if authError}}
            <span class="errorText">Invalid Username or Password</span>
        {{else}}
          {{#unless authorized}}
              <span class="errorText">You are not authorized to access this application.</span>
          {{/unless}}
        {{/if}}
      {{/if}}
    </div>
    <div class="ui-block-c"></div>
  </form>
</template>